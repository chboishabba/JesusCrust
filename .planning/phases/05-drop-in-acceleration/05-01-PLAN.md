---
phase: 05-drop-in-acceleration
type: execute
domain: research
---

<objective>
Research feasibility and constraints for drop-in acceleration of existing apps using the JesusCrust runtime.

Purpose: Identify whether and how the current semantics (batched commits, deterministic replay, host-core contract) can wrap existing DOM apps without breaking behavior.
Output: Discovery report with viable approaches, blockers, and next steps.
</objective>

<execution_context>
~/.codex/skills/get-shit-done/workflows/execute-phase.md
~/.codex/skills/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-js-host-integration/03-02-SUMMARY.md
@docs/host-core-api.md
@docs/api.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Map host/core constraints to drop-in scenarios</name>
  <files>.planning/phases/05-drop-in-acceleration/DISCOVERY.md</files>
  <action>Identify assumptions from the host/core contract (batch-only commits, mutation guard, rollback semantics, deterministic replay) and list where typical apps violate them (e.g., streaming DOM writes, uncontrolled microtasks). Document gaps and risks in DISCOVERY.md.</action>
  <verify>DISCOVERY.md lists constraints and concrete app patterns that would conflict with the current contract.</verify>
  <done>Constraints and incompatibilities are documented with examples.</done>
</task>

<task type="auto">
  <name>Task 2: Survey integration approaches</name>
  <files>.planning/phases/05-drop-in-acceleration/DISCOVERY.md</files>
  <action>Evaluate at least two approaches (e.g., wrapping DOM writes, virtual layer/shim, patch interception). For each, note feasibility, expected overhead, and risks to determinism/batching. Capture notes in DISCOVERY.md.</action>
  <verify>DISCOVERY.md contains pros/cons for each approach and highlights determinism impact.</verify>
  <done>Two or more approaches analyzed with feasibility and risk notes.</done>
</task>

<task type="auto">
  <name>Task 3: Recommend next steps</name>
  <files>.planning/phases/05-drop-in-acceleration/DISCOVERY.md</files>
  <action>Propose a go/no-go recommendation for a first experiment, including a minimal prototype scope (if go) or blockers (if no-go). Include required tooling or API changes if any.</action>
  <verify>DISCOVERY.md ends with a clear recommendation and minimal prototype outline or blockers.</verify>
  <done>Recommendation recorded with rationale and proposed prototype scope or blockers.</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] DISCOVERY.md exists and is complete
</verification>

<success_criteria>

- Constraints and incompatibilities for drop-in acceleration are documented
- At least two integration approaches analyzed with pros/cons
- Clear recommendation and prototype scope or blockers captured
</success_criteria>

<output>
After completion, create `.planning/phases/05-drop-in-acceleration/05-01-SUMMARY.md`:

# Phase 5 Plan 1: Drop-in Acceleration Research Summary

**Substantive one-liner describing feasibility and recommended next step.**

## Accomplishments

- [Key outcome 1]
- [Key outcome 2]

## Files Created/Modified

- `.planning/phases/05-drop-in-acceleration/DISCOVERY.md` - Findings

## Decisions Made

[Key decisions and rationale, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

[Prototype plan or blockers]
</output>
