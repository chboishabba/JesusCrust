---
phase: 04-developer-experience
type: execute
domain: docs
---

<objective>
Document the public API surface and provide runnable examples for early adopters.

Purpose: Make the Rust/WASM core + JS host usable and understandable without reading source.
Output: API docs, quickstart example(s), and updated project docs reflecting Phase 3 contracts.
</objective>

<execution_context>
~/.codex/skills/get-shit-done/workflows/execute-phase.md
~/.codex/skills/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-js-host-integration/03-CONTEXT.md
@.planning/phases/03-js-host-integration/03-01-SUMMARY.md
@.planning/phases/03-js-host-integration/03-02-SUMMARY.md
@docs/host-core-api.md
@packages/js-host/src/runner.js
@packages/js-host/src/apply.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Write API surface doc</name>
  <files>docs/api.md</files>
  <action>Document the Phase 3 public surface: PatchBatch/PatchOp shapes, commit boundary rules, host runner entry points, replay/fingerprint expectations, and mutation guard semantics. Keep it aligned with `docs/host-core-api.md` (no new behaviors).</action>
  <verify>Doc includes all PatchOp variants, commit/rollback semantics, and references host-core API without contradictions.</verify>
  <done>`docs/api.md` exists and matches the Phase 3 contract; no new behaviors introduced.</done>
</task>

<task type="auto">
  <name>Task 2: Add runnable quickstart example</name>
  <files>examples/quickstart.js</files>
  <action>Create a minimal Node example that constructs a DomModel/HostRunner, applies a sample PatchBatch, and logs serialized output and fingerprint. Keep dependencies local (use packages/js-host). Include comments on expected output.</action>
  <verify>node examples/quickstart.js prints deterministic serialized DOM and fingerprint without errors.</verify>
  <done>Example runs successfully and demonstrates one commit per tick with deterministic output.</done>
</task>

<task type="auto">
  <name>Task 3: Update top-level docs</name>
  <files>docs/host-core-api.md, README.md</files>
  <action>Link the new API doc and example from README (append a short “Getting Started” section). If README conflicts arise, add a short pointer section instead of rewriting. Ensure links to `docs/api.md`, `docs/host-core-api.md`, and `examples/quickstart.js` are present.</action>
  <verify>Links resolve locally; `node examples/quickstart.js` still passes after README changes.</verify>
  <done>README references the API doc and example; host-core API doc remains consistent with implementation.</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm test --prefix packages/js-host` passes
- [ ] `node examples/quickstart.js` runs without error
</verification>

<success_criteria>

- API surface documented without adding new semantics
- Quickstart example runs and shows deterministic output/fingerprint
- Top-level docs point to API doc and example for onboarding
</success_criteria>

<output>
After completion, create `.planning/phases/04-developer-experience/04-01-SUMMARY.md`:

# Phase 4 Plan 1: Developer Experience Summary

**Substantive one-liner describing the shipped docs + example.**

## Accomplishments

- [Key outcome 1]
- [Key outcome 2]

## Files Created/Modified

- `docs/api.md` - API surface
- `examples/quickstart.js` - Running example
- `README.md` - Getting started links

## Decisions Made

[Key decisions and rationale, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Phase complete; ready for next milestone or tooling polish.
</output>
